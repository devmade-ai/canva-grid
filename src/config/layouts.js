export const overlayTypes = [
  // Basic
  {
    id: 'solid',
    name: 'Solid',
    category: 'basic',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
  // Linear Gradients
  {
    id: 'gradient-down',
    name: 'Gradient ↓',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to bottom, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-up',
    name: 'Gradient ↑',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to top, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-left',
    name: 'Gradient ←',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to left, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-right',
    name: 'Gradient →',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to right, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-tl',
    name: 'Gradient ↖',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to top left, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-tr',
    name: 'Gradient ↗',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to top right, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-bl',
    name: 'Gradient ↙',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to bottom left, ${rgbaColor}, transparent)`
    },
  },
  {
    id: 'gradient-br',
    name: 'Gradient ↘',
    category: 'linear',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `linear-gradient(to bottom right, ${rgbaColor}, transparent)`
    },
  },
  // Radial Gradients
  {
    id: 'vignette',
    name: 'Vignette',
    category: 'radial',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `radial-gradient(ellipse at center, transparent 0%, ${rgbaColor} 100%)`
    },
  },
  {
    id: 'spotlight',
    name: 'Spotlight',
    category: 'radial',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `radial-gradient(ellipse at center, ${rgbaColor} 0%, transparent 70%)`
    },
  },
  {
    id: 'radial-soft',
    name: 'Radial Soft',
    category: 'radial',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `radial-gradient(circle at center, ${rgbaColor} 0%, transparent 50%)`
    },
  },
  {
    id: 'radial-ring',
    name: 'Radial Ring',
    category: 'radial',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `radial-gradient(circle at center, transparent 30%, ${rgbaColor} 50%, transparent 70%)`
    },
  },
  // Edge Effects
  {
    id: 'blur-edges',
    name: 'Blur Edges',
    category: 'effect',
    special: 'blur-edges',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      return `radial-gradient(ellipse at center, transparent 40%, ${rgbaColor} 100%)`
    },
  },
  {
    id: 'frame',
    name: 'Frame',
    category: 'effect',
    getCss: (color, opacity) => {
      const rgbaColor = color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba')
      const transparentRgba = color.replace(')', ', 0)').replace('rgb', 'rgba')
      return `linear-gradient(to right, ${rgbaColor} 0%, ${transparentRgba} 5%, ${transparentRgba} 95%, ${rgbaColor} 100%), linear-gradient(to bottom, ${rgbaColor} 0%, ${transparentRgba} 5%, ${transparentRgba} 95%, ${rgbaColor} 100%)`
    },
  },
  // Blend Mode Effects (use mix-blend-mode)
  {
    id: 'multiply',
    name: 'Multiply',
    category: 'blend',
    blendMode: 'multiply',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
  {
    id: 'screen',
    name: 'Screen',
    category: 'blend',
    blendMode: 'screen',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
  {
    id: 'overlay-blend',
    name: 'Overlay',
    category: 'blend',
    blendMode: 'overlay',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
  {
    id: 'color-burn',
    name: 'Color Burn',
    category: 'blend',
    blendMode: 'color-burn',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
  // Texture Effects
  {
    id: 'noise',
    name: 'Noise',
    category: 'texture',
    special: 'noise',
    getCss: () => 'transparent',
  },
  {
    id: 'grain',
    name: 'Film Grain',
    category: 'texture',
    special: 'grain',
    getCss: () => 'transparent',
  },
  // Duotone (applies filter + color)
  {
    id: 'duotone',
    name: 'Duotone',
    category: 'effect',
    special: 'duotone',
    getCss: (color, opacity) => color.replace(')', `, ${opacity / 100})`).replace('rgb', 'rgba'),
  },
]

// Helper to convert hex to rgb string
export function hexToRgb(hex) {
  const result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex)
  if (!result) return 'rgb(0, 0, 0)'
  return `rgb(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})`
}

// Helper to get overlay type by id
export function getOverlayType(id) {
  return overlayTypes.find((o) => o.id === id) || overlayTypes[0]
}

// Image style presets combining overlay + filters
export const imagePresets = [
  {
    id: 'none',
    name: 'None',
    overlay: { type: 'solid', color: 'primary', opacity: 0 },
    filters: { grayscale: 0, sepia: 0, blur: 0, contrast: 100, brightness: 100 },
  },
  {
    id: 'dramatic-dark',
    name: 'Dramatic Dark',
    overlay: { type: 'vignette', color: 'primary', opacity: 70 },
    filters: { grayscale: 0, sepia: 0, blur: 0, contrast: 110, brightness: 90 },
  },
  {
    id: 'light-airy',
    name: 'Light & Airy',
    overlay: { type: 'solid', color: 'secondary', opacity: 20 },
    filters: { grayscale: 0, sepia: 0, blur: 0, contrast: 90, brightness: 110 },
  },
  {
    id: 'vintage',
    name: 'Vintage',
    overlay: { type: 'vignette', color: 'primary', opacity: 40 },
    filters: { grayscale: 0, sepia: 30, blur: 0, contrast: 95, brightness: 95 },
  },
  {
    id: 'cinematic',
    name: 'Cinematic',
    overlay: { type: 'gradient-up', color: 'primary', opacity: 60 },
    filters: { grayscale: 0, sepia: 10, blur: 0, contrast: 115, brightness: 95 },
  },
  {
    id: 'soft-focus',
    name: 'Soft Focus',
    overlay: { type: 'solid', color: 'secondary', opacity: 15 },
    filters: { grayscale: 0, sepia: 0, blur: 1, contrast: 90, brightness: 105 },
  },
  {
    id: 'noir',
    name: 'Noir',
    overlay: { type: 'vignette', color: 'primary', opacity: 50 },
    filters: { grayscale: 100, sepia: 0, blur: 0, contrast: 120, brightness: 90 },
  },
  {
    id: 'warm-glow',
    name: 'Warm Glow',
    overlay: { type: 'gradient-down', color: 'accent', opacity: 30 },
    filters: { grayscale: 0, sepia: 20, blur: 0, contrast: 100, brightness: 105 },
  },
]
